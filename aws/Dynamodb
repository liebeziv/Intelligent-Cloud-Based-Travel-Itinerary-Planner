DynamoDB Information
AWS Region: us-east-1

DynamoDB Tables:
1. Users
   - PK: pk = USER#<email>
   - SK: sk = PROFILE
   - (optional) GSI1: gsi1pk=email, gsi1sk=PROFILE

2. Itineraries
   - PK: pk = USER#<user_id>
   - SK: sk = ITIN#<itinerary_id>

code example:
import boto3

dynamodb = boto3.resource("dynamodb", region_name="us-east-1")

users_tbl = dynamodb.Table("Users")
itins_tbl = dynamodb.Table("Itineraries")

AWS CLI script record
# Users
aws dynamodb create-table \
  --table-name Users \
  --attribute-definitions AttributeName=pk,AttributeType=S AttributeName=sk,AttributeType=S \
  --key-schema AttributeName=pk,KeyType=HASH AttributeName=sk,KeyType=RANGE \
  --billing-mode PAY_PER_REQUEST \
  --region us-east-1

# Users - Create GSI1
aws dynamodb update-table \
  --table-name Users \
  --attribute-definitions AttributeName=gsi1pk,AttributeType=S AttributeName=gsi1sk,AttributeType=S \
  --global-secondary-index-updates '[
    {
      "Create": {
        "IndexName": "GSI1",
        "KeySchema": [
          {"AttributeName":"gsi1pk","KeyType":"HASH"},
          {"AttributeName":"gsi1sk","KeyType":"RANGE"}
        ],
        "Projection": {"ProjectionType":"ALL"}
      }
    }
  ]' \
  --region us-east-1

# Itineraries
aws dynamodb create-table \
  --table-name Itineraries \
  --attribute-definitions AttributeName=pk,AttributeType=S AttributeName=sk,AttributeType=S \
  --key-schema AttributeName=pk,KeyType=HASH AttributeName=sk,KeyType=RANGE \
  --billing-mode PAY_PER_REQUEST \
  --region us-east-1
